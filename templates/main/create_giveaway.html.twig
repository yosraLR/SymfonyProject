{% extends 'base_register.html.twig' %}

{% block title %}Create Giveaway{% endblock %}


{% block body %}
    <div class="container">
        <h1 class="title">Create Giveaway</h1>

        {{ form_start(giveawayForm) }}

        <div class="form-group">
            <label for="{{ giveawayForm.name.vars.id }}" class="form-label">Giveaway Name</label>
            {{ form_widget(giveawayForm.name, { 'attr': {'class': 'form-input'} }) }}
        </div>

        <div class="form-group">
            <label for="{{ giveawayForm.startDate.vars.id }}" class="form-label">Start Date</label>
            {{ form_widget(giveawayForm.startDate, { 'attr': {'class': 'form-input'} }) }}
        </div>

        <div class="form-group">
            <label for="{{ giveawayForm.endDate.vars.id }}" class="form-label">End Date</label>
            {{ form_widget(giveawayForm.endDate, { 'attr': {'class': 'form-input'} }) }}
        </div>

        <button class="btn btn-primary" type="submit">Create Giveaway</button>

        {{ form_end(giveawayForm) }}

         {% for flashMessage in app.session.flashbag.get('success') %}
            <div class="alert alert-success">{{ flashMessage }}</div>
        {% endfor %}
        
        {% if giveawayForm.vars.data is defined %}
            {% set giveawayId = giveawayForm.vars.data.id %}
            {% if giveawayId is not empty %}
                <a href="{{ path('prize', {'giveawayId': giveawayId}) }}" class="btn btn-primary">Add prizes!</a>
            {% endif %}
        {% endif %}
        
    </div>
{% endblock %}
